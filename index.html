<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Niveau d'Eau - Port des Sablons</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('/AdobeStock_527596924.jpeg');
      }
    </style>
  </head>
  <body x-data="waterLevelApp" x-init="init()">
    <!-- background fixe -->
    <div class="bg-fixed"></div>

    <!-- Vague coin (landscape) -->
    <div class="wave-corner" aria-hidden="true">
      <svg viewBox="0 0 340 240" preserveAspectRatio="none">
        <path fill="#121212" d="M0,0 L340,0 C300,60 250,75 200,105 C145,138 85,180 0,240 Z"></path>
      </svg>
      <div class="logo-container">
        <img src="/logo_bretagneplaisance.svg" alt="Bretagne Plaisance" />
      </div>
    </div>

    <!-- Header vague (portrait) -->
    <section class="header-portrait">
      <div class="logo-wrapper">
        <img src="/logo_bretagneplaisance.svg" alt="Bretagne Plaisance" />
      </div>
      <svg viewBox="0 0 1440 120" preserveAspectRatio="none" aria-hidden="true">
        <path fill="#121212" d="M0,40 C180,90 360,10 540,40 C720,70 900,120 1080,90 C1260,60 1440,35 1440,35 L1440,0 L0,0 Z"></path>
      </svg>
    </section>

    <!-- Contenu principal -->
    <main>
      <div class="card">
        <div class="card-title" x-text="t.waterLevelLabel"></div>

        <div class="level-container">
          <div>
            <div class="level-value" :class="loading ? 'loading' : ''" x-text="formattedLevel"></div>
          </div>

          <!-- statut / flèche tendance -->
          <div class="trend-container" x-show="trendReady">
            <template x-if="trend === 'rising'">
              <svg width="64" height="64" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 28V6M16 6L8 14M16 6L24 14" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </template>
            <template x-if="trend === 'falling'">
              <svg width="64" height="64" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 4v22M16 26l8-8M16 26l-8-8" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </template>
            <template x-if="trend === 'stable'">
              <svg width="64" height="64" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 16h20" stroke="#fff" stroke-width="3" stroke-linecap="round"/>
                <path d="M24 16l-4-4M24 16l-4 4" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </template>
          </div>
        </div>

        <div class="level-unit" x-text="t.unit"></div>
      </div>
    </main>

    <!-- Sélecteur langue -->
    <div class="lang-selector">
      <button type="button" :class="lang === 'fr' ? 'active' : ''" @click="setLang('fr')">FR</button>
      <span class="lang-separator">|</span>
      <button type="button" :class="lang === 'en' ? 'active' : ''" @click="setLang('en')">EN</button>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>